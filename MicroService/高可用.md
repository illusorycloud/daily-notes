# 高可用



## 1. 概述

高可用是一种面向风险设计，使系统具备控制风险，提供更高的可用性的能力。

相关概念：

- 风险：指未来会发生危害的一种可能性，但实际未发生，记为r。
- 故障：指已发生或正在发生危害的一种事实，是风险变现实的结果。
- 风险概率：指一个风险变故障的概率。用它来表示风险触发为故障的难易程度，记为P(r)。
- 故障影响范围：指在单位时间内，一个故障造成的危害影响，记为R(r)。
- 故障影响时长：指一个故障持续的时间，记为T(r)。
- 故障影响面：指一个故障影响范围乘以故障影响时长的总和。这里用故障影响面来表示故障总的危害程度，记为F(r)。
- 风险期望：指每个风险变故障的概率乘以每个风险变故障后的故障影响面的总和。这里用风险期望来表示风险的潜在危害程度，记为E(r)。



为了保证高可用，可以从以下几个方面入手处理：

* 1）减少风险数量 n

* 2）降低风险变故障的概率（即：增加风险变故障的难度），P

* 3）减小故障影响范围，R

* 4）缩短故障影响时长，T



## 2. 七大原则

* 1）少依赖原则：能不依赖的，尽可能不依赖，越少越好（n）
* 2）弱依赖原则：一定要依赖的，尽可能弱依赖，越弱越好（P）
* 3）分散原则：鸡蛋不要放一个篮子，分散风险（R）
* 4）均衡原则：均匀分散风险，避免不均衡（R）
* 5）隔离原则：控制风险不扩散，不放大（R）
* 6）无单点原则：要有冗余或其他版本,做到有路可退（T）
* 7）自我保护原则：少流血，牺牲一部分，保护另外一部分（P&R&T）

